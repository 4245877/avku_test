---
// src/components/Header.astro
import styles from "./Header.module.css";

const navItems = [
  { href: "/", key: "nav_home", label: "Головна" },
  { href: "/about", key: "nav_about", label: "Про нас" },
  { href: "/events", key: "nav_events", label: "Події" },
  { href: "/news", key: "nav_news", label: "Новини" },
  { href: "/publications", key: "nav_publications", label: "Публікації" },
  { href: "/contacts", key: "nav_contacts", label: "Контакти" },
];

const pathname = Astro.url?.pathname ?? "/";
const isActive = (href) => (href === "/" ? pathname === "/" : pathname.startsWith(href));
---

<header class={`${styles.header} header`}>
  <nav class={`${styles.navbar} navbar`} aria-label="Primary navigation">
    <div class={`${styles.logo} logo`}>
      <a class={`${styles.logoLink} logo-link`} href="/" data-translate="Association">АВКУ</a>
    </div>

    <div class={`${styles.languageSelector} language-selector`} aria-label="Language selector">
      <button type="button" class={`${styles.langBtn} lang-btn`} data-lang="en">EN</button>
      <button type="button" class={`${styles.langBtn} lang-btn`} data-lang="uk">UA</button>
    </div>

    <ul class={`${styles.navLinks} nav-links`} id="primary-nav">
      {navItems.map((item) => (
        <li class={`${styles.navItem} nav-item`}>
          <a
            href={item.href}
            data-translate={item.key}
            class={`${styles.navLink} nav-link ${isActive(item.href) ? styles.active : ""}`}
            aria-current={isActive(item.href) ? "page" : undefined}
          >
            {item.label}
          </a>
        </li>
      ))}
    </ul>

    <button
      type="button"
      class={`${styles.hamburger} hamburger`}
      aria-label="Toggle menu"
      aria-controls="primary-nav"
      aria-expanded="false"
    >
      <span class={`${styles.hamburgerLine} hamburger-line`}></span>
      <span class={`${styles.hamburgerLine} hamburger-line`}></span>
      <span class={`${styles.hamburgerLine} hamburger-line`}></span>
    </button>
  </nav>
</header>
