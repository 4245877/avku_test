---
import Base from "../layouts/Base.astro";

// Глобальные стили
import "../styles/base.css";
import "../styles/layout.css";
import "../styles/components.css";
import "../styles/utils.css";
import "../styles/animations.css";
import "../styles/pages/publications.css";
import "../styles/responsive.css";

const lang = "uk";
const title = "АВКУ - Публікації";
---

<Base lang={lang} title={title}>
  <Fragment slot="head">
    <link rel="icon" href="/logo.png" type="image/x-icon" />
    <link rel="shortcut icon" href="/logo.png" type="image/x-icon" />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
  </Fragment>

  <!-- Header и навигация -->
  <header>
    <nav class="navbar">
      <div class="logo">
        <a href="/" data-translate="Association">АВКУ</a>
      </div>

      <div class="language-selector">
        <button class="lang-btn" data-lang="en">EN</button>
        <button class="lang-btn" data-lang="uk">UA</button>
      </div>

      <ul class="nav-links">
        <li><a href="/" data-translate="nav_home">Головна</a></li>
        <li><a href="/about" data-translate="nav_about">Про нас</a></li>
        <li><a href="/gallery" data-translate="nav_gallery">Галерея</a></li>
        <li><a href="/publications" data-translate="nav_publications">Публікації</a></li>
        <li><a href="/contacts" data-translate="nav_contacts">Контакти</a></li>
      </ul>

      <div class="hamburger" aria-label="Menu" role="button" tabindex="0">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </nav>
  </header>

  <!-- Модальное окно для просмотра PDF -->
  <div id="pdfPreviewModal" class="pdf-modal">
    <div class="pdf-modal-content">
      <div class="pdf-modal-header">
        <h3 id="pdfModalTitle">Перегляд документу</h3>
        <div class="pdf-modal-actions">
          <button id="downloadPdfBtn" class="pdf-action-btn" data-translate="modal_download">
            <i class="fas fa-download"></i> Завантажити
          </button>
          <button id="closePdfModal" class="pdf-action-btn" aria-label="Close">
            <i class="fas fa-times"></i>
          </button>
        </div>
      </div>
      <div class="pdf-modal-body">
        <iframe id="pdfViewer" src="" width="100%" height="100%" frameborder="0"></iframe>
      </div>
    </div>
  </div>

  <!-- Основной контент -->
  <main class="publications-page">
    <div class="publications-container">
      <h1 class="section-title" data-translate="publications_title">Публікації</h1>

      <div class="publications-search">
        <input
          type="text"
          class="search-input"
          id="publicationSearch"
          placeholder="Пошук публікацій..."
          data-translate="search_placeholder"
        />
      </div>

      <div class="publications-filter">
        <button class="filter-btn active" data-filter="all" data-translate="filter_all">Всі</button>
        <button class="filter-btn" data-filter="reports" data-translate="filter_activities">Заходи</button>
        <button class="filter-btn" data-filter="research" data-translate="filter_research">Гуманітарна допомога</button>
        <button class="filter-btn" data-filter="guidelines" data-translate="filter_guidelines">Реабілітація</button>
        <button class="filter-btn" data-filter="reports" data-translate="filter_reports">Звіти</button>
      </div>

      <div class="publications-grid">
        <div class="publication-card" data-category="reports">
          <div class="publication-thumbnail">
            <i class="fas fa-file-pdf"></i>
          </div>
          <div class="publication-info">
            <h3 class="publication-title" data-translate="pub1_title">ВОЛОНТЕРСЬКИЙ РУХ</h3>
            <div class="publication-date" data-translate="pub1_date">Грудень 2024</div>
            <p class="publication-description" data-translate="pub1_desc">Текст</p>
            <div class="publication-actions">
              <button
                class="publication-preview-btn"
                data-pdf="/publications/ВОЛОНТЕРСЬКИЙ_РУХ_ст_Колодій,Головач.pdf"
                data-title="Річний звіт АВКУ 2024"
                data-translate="preview_btn"
              >
                <i class="fas fa-eye"></i> Переглянути
              </button>
              <a
                href="/publications/ВОЛОНТЕРСЬКИЙ_РУХ_ст_Колодій,Головач.pdf"
                class="publication-download-btn"
                download
                data-translate="download_btn"
              >
                <i class="fas fa-download"></i> Завантажити
              </a>
            </div>
          </div>
        </div>

        <div class="publication-card" data-category="reports">
          <div class="publication-thumbnail">
            <i class="fas fa-file-pdf"></i>
          </div>
          <div class="publication-info">
            <h3 class="publication-title" data-translate="pub4_title">ЗВІТ АВКУ - 2024</h3>
            <div class="publication-date" data-translate="pub4_date">Січень 2025</div>
            <p class="publication-description" data-translate="pub4_desc">Тест</p>
            <div class="publication-actions">
              <button
                class="publication-preview-btn"
                data-pdf="/publications/ЗВІТ - 2024.pdf"
                data-title="Квартальний звіт АВКУ Q3 2024"
                data-translate="preview_btn"
              >
                <i class="fas fa-eye"></i> Переглянути
              </button>
              <a
                href="/publications/ЗВІТ - 2024.docx"
                class="publication-download-btn"
                download
                data-translate="download_btn"
              >
                <i class="fas fa-download"></i> Завантажити
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Футер -->
  <footer>
    <div class="container">
      <div class="social-links">
        <a href="https://t.me/+380688473401" target="_blank" rel="noopener noreferrer" title="Telegram">
          <img src="/images/telegram-icon.svg" alt="Telegram" />
        </a>
        <a href="viber://chat?number=%2B1234567890" target="_blank" rel="noopener noreferrer" title="Viber">
          <img src="/images/viber-icon.svg" alt="Viber" />
        </a>
        <a
          href="https://www.facebook.com/groups/555103805361838"
          target="_blank"
          rel="noopener noreferrer"
          title="Facebook"
        >
          <img src="/images/facebook-icon.svg" alt="Facebook" />
        </a>
        <a href="https://www.youtube.com/@avkuorg" target="_blank" rel="noopener noreferrer" title="YouTube">
          <img src="/images/youtube-icon.svg" alt="YouTube" />
        </a>
        <a
          href="https://api.whatsapp.com/send/?phone=%2B380964095892&text&type=phone_number&app_absent=0"
          target="_blank"
          rel="noopener noreferrer"
          title="WhatsApp"
        >
          <img src="/images/whatsapp-icon.svg" alt="WhatsApp" />
        </a>
      </div>

      <p data-translate="footer_text">© 2025 АВКУ. Усі права захищені.</p>
    </div>
  </footer>
</Base>
